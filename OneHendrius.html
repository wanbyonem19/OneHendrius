<!DOCTYPE html><html lang="id"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, maximum-scale=5.0">    <title>Pengacak dan Penerjemah Pesan - Shift Glow 2025</title>    <style>        html { height: 100%; }        body {            font-family: monospace;            background: #0a0a0a;            color: #00ff00;            margin: 0;            padding: 20px;            text-shadow: 0 0 10px #00ff00;            min-height: 100vh;            display: flex;            flex-direction: column;            align-items: center;            overflow-x: hidden;        }        .container {            max-width: 700px;            width: 100%;            background: rgba(26, 26, 26, 0.9);            padding: 50px 40px;            border-radius: 20px;            box-shadow: 0 0 30px rgba(0, 255, 0, 0.4), inset 0 0 20px rgba(255, 0, 255, 0.1);            border: 2px solid #00ff00;            position: relative;            margin: 20px 0;            display: block;            transform-style: flat;            -webkit-transform-style: flat;            box-sizing: border-box;        }        h1 { text-align: center; color: #ffffff; text-shadow: 0 0 20px #00ff00, 0 0 40px #ff00ff, 0 0 60px #00ffff; font-size: 2.5em; margin-bottom: 15px; }        .subtitle { text-align: center; color: #00ffff; text-shadow: 0 0 10px #00ffff; font-size: 1.2em; margin-bottom: 25px; }        textarea {            width: 100%;            min-height: 120px;            padding: 15px;            border: 2px solid #ff00ff;            border-radius: 10px;            font-size: 16px;            -webkit-user-select: text;            user-select: text;            resize: vertical;            background: rgba(10, 10, 10, 1);            color: #ffffff;            text-shadow: 0 0 5px #00ff00;            box-shadow: 0 0 15px rgba(255, 0, 255, 0.2);            transition: all 0.3s;            box-sizing: border-box;            margin-bottom: 20px;            -webkit-appearance: none;            appearance: none;            outline: none;            overflow-y: auto;            max-height: 50vh;        }        textarea:focus { border-color: #00ffff; box-shadow: 0 0 20px rgba(0, 255, 255, 0.4); outline: none; }        textarea::placeholder { color: #888888; text-shadow: none; }        .controls { display:flex; gap:10px; align-items:center; justify-content:center; flex-wrap:wrap; margin-bottom:8px; }        .repeat-input {            display:flex;            gap:8px;            align-items:center;        }        input[type="number"] {            width: 120px;            padding: 8px;            border-radius: 8px;            border: 2px solid #00ff00;            background: rgba(5,5,5,0.9);            color: #fff;            font-size: 14px;            box-shadow: 0 0 8px rgba(0,255,0,0.1);            -webkit-appearance: none;        }        button {            background: linear-gradient(45deg, #00ff00, #00cc00);            color: #000;            padding: 12px 24px;            border: none;            border-radius: 10px;            cursor: pointer;            font-size: 16px;            margin: 10px;            box-shadow: 0 0 15px #00ff00;            font-weight: bold;            transition: all 0.3s;            position: relative;            overflow: hidden;            box-sizing: border-box;            display: inline-block;        }        button::before { content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent); transition: left 0.5s; }        button:hover::before { left: 100%; }        button:hover { transform: translateY(-2px); }        button.alt { background: linear-gradient(45deg, #ff00ff, #cc00cc); box-shadow: 0 0 15px #ff00ff; color:#000; }        button.alt2 { background: linear-gradient(45deg, #00ffff, #00cccc); box-shadow: 0 0 15px #00ffff; color:#000; }        .copy-btn { background: linear-gradient(45deg, #ff0000, #cc0000); color: #fff; padding: 8px 16px; font-size: 16px; border: none; border-radius: 8px; cursor: pointer; box-shadow: 0 0 10px #ff0000; margin: 15px auto 0; display: block; transition: all 0.3s; box-sizing: border-box; max-width: 200px; }        .copy-btn:hover { box-shadow: 0 0 20px #ff0000; }        #output { margin-top: 25px; padding: 20px; background: rgba(15, 15, 15, 0.9); border: 2px solid #00ff00; border-radius: 10px; white-space: pre-wrap; word-wrap: break-word; font-family: monospace; box-shadow: 0 0 15px rgba(0, 255, 0, 0.3); min-height: 60px; position: relative; overflow: visible; box-sizing: border-box; margin-bottom: 20px; -webkit-user-select: text; user-select: text; }        .output-label { color: #00ffff; text-shadow: 0 0 10px #00ffff; font-weight: bold; margin-bottom: 10px; }        .output-text { color: #ffffff; text-shadow: 0 0 5px #00ff00; min-height: 20px; overflow: visible; display: block; -webkit-user-select: text; user-select: text; }        .datetime { text-align: center; margin: 25px 0; font-size: 1.1em; color: #ff00ff; text-shadow: 0 0 10px #ff00ff; }        .footer { text-align: center; margin-top: 35px; color: #888888; font-size: 0.9em; }        .footer span { color: #00ff00; text-shadow: 0 0 5px #00ff00; }        @media (max-width: 768px) {            body { padding: 10px; padding-top: 20px; }            .container { padding: 30px 25px; border-radius: 15px; max-width: 95%; margin: 10px 0; }            h1 { font-size: 2em; }            .subtitle { font-size: 1em; }            textarea { min-height: 100px; font-size: 16px; margin-bottom: 15px; max-height: 40vh; }            button { padding: 10px 20px; font-size: 16px; margin: 8px; display: block; width: 100%; max-width: 300px; margin: 8px auto; }            .mode { margin: 20px 0; }            #output { padding: 15px; font-size: 14px; margin-top: 20px; min-height: 50px; margin-bottom: 15px; }            .copy-btn { width: 100%; max-width: 200px; margin: 10px auto 0; font-size: 16px; }            .datetime { font-size: 1em; margin: 15px 0; }        }    </style></head><body>    <div class="container">        <h1>Pengacak dan Penerjemah Pesan</h1>        <p class="subtitle">Kriptografi 2025</p>        <div class="datetime" id="datetime"></div>        <p>Masukkan pesan untuk diacak.</p>        <textarea id="input" inputmode="text" placeholder="Ketik pesanmu di sini... (coba 'hello 123' buat test)"></textarea>        <div class="controls">            <div class="repeat-input">                <label for="repeat" style="color:#00ffff;">Repeat:</label>                <input id="repeat" type="number" min="0" step="1" value="1" title="Jumlah pengulangan (0 = no-op, 1 = sekali)">            </div>            <div class="mode">                <button onclick="acakPesan()">ðŸ”’ Acak Pesan</button>                <button class="alt" onclick="terjemahkanPesan()">ðŸ”“ Terjemahkan Pesan</button>                <button class="alt2" onclick="clearAll()">ðŸ§¹ Bersihkan</button>            </div>        </div>        <div id="output"></div>        <div class="footer">            powered by ONE HENDRIUS Â© 2025        </div>    </div>    <script>        document.addEventListener('DOMContentLoaded', function() {            const textarea = document.getElementById('input');            function autoResize() {                textarea.style.height = 'auto';                textarea.style.height = Math.min(textarea.scrollHeight, window.innerHeight * 0.5) + 'px';            }            textarea.addEventListener('input', autoResize);            textarea.addEventListener('paste', function() { setTimeout(autoResize, 0); });            textarea.addEventListener('focus', function() { this.scrollIntoView({ behavior: 'smooth', block: 'center' }); this.select(); autoResize(); });            setTimeout(() => { textarea.focus(); autoResize(); }, 500);        });        function updateDateTime() {            const now = new Date();            const options = {                weekday: 'long', year: 'numeric', month: 'long', day: 'numeric',                hour: '2-digit', minute: '2-digit', second: '2-digit', timeZoneName: 'short'            };            document.getElementById('datetime').textContent = now.toLocaleDateString('id-ID', options);        }        setInterval(updateDateTime, 1000);        updateDateTime();        // Mapping enkripsi huruf (acak)        const encryptMapLower = {            'a': 'q','b': 'd','c': 'e','d': 'h','e': 's','f': 'v',            'g': 'o','h': 'k','i': 'm','j': 'y','k': 'x','l': 't',            'm': 'b','n': 'f','o': 'j','p': 'a','q': 'n','r': 'z',            's': 'l','t': 'c','u': 'p','v': 'i','w': 'r','x': 'g',            'y': 'w','z': 'u'        };        const encryptMapUpper = {};        for (let k in encryptMapLower) encryptMapUpper[k.toUpperCase()] = encryptMapLower[k].toUpperCase();        // Mapping dekripsi (inverse)        const decryptMapLower = {};        for (let k in encryptMapLower) decryptMapLower[encryptMapLower[k]] = k;        const decryptMapUpper = {};        for (let k in decryptMapLower) decryptMapUpper[k.toUpperCase()] = decryptMapLower[k].toUpperCase();        // Mapping angka        const encryptMapDigit = {            '7': '0','4': '1','9': '2','2': '3','8': '4',            '1': '5','5': '6','3': '7','0': '8','6': '9'        };        const decryptMapDigit = {};        for (let k in encryptMapDigit) decryptMapDigit[encryptMapDigit[k]] = k;        // Helper: build final mapping after "times" applications using cycle decomposition.        // timesStr accepted as string/number; supports very large integers by BigInt.        function buildFinalMap(baseMap, timesStr, keysList) {            // baseMap: object mapping char->char (e.g. encryptMapLower)            // keysList: array of keys to consider (e.g. ['a','b',...]) to ensure consistent order            const final = {};            const visited = new Set();            // Normalize times as BigInt >= 0            let timesBig;            try {                // If input is not provided or invalid, default 1                if (timesStr === null || timesStr === undefined || timesStr === '') timesBig = BigInt(1);                else {                    // Allow decimal/float numbers by parsing as integer                    const trimmed = String(timesStr).trim();                    if (trimmed === '') timesBig = BigInt(1);                    else timesBig = BigInt(trimmed);                    if (timesBig < 0n) timesBig = -timesBig; // use absolute                }            } catch (err) {                timesBig = BigInt(1);            }            for (let start of keysList) {                if (visited.has(start)) continue;                // Build cycle starting at start                const cycle = [];                let cur = start;                while (!visited.has(cur)) {                    visited.add(cur);                    cycle.push(cur);                    const next = baseMap[cur];                    // If mapping doesn't exist, break (degenerate cycle of length 1)                    if (typeof next === 'undefined') break;                    cur = next;                    if (cycle.length > 1000) break; // safety (shouldn't happen)                }                const len = cycle.length;                if (len === 0) continue;                // times mod len                const step = Number(timesBig % BigInt(len));                for (let i = 0; i < len; i++) {                    final[cycle[i]] = cycle[(i + step) % len];                }            }            return final;        }        // Build lists for lowercase, uppercase and digits        const lowerKeys = Object.keys(encryptMapLower).sort();        const upperKeys = Object.keys(encryptMapUpper).sort();        const digitKeys = Object.keys(encryptMapDigit).sort();        // Apply repeated mapping efficiently using buildFinalMap        function applyRepeated(text, baseMapLower, baseMapUpper, baseMapDigit, timesStr) {            // Build final maps only once per call            const finalLower = buildFinalMap(baseMapLower, timesStr, lowerKeys);            const finalUpper = buildFinalMap(baseMapUpper, timesStr, upperKeys);            const finalDigit = buildFinalMap(baseMapDigit, timesStr, digitKeys);            let out = '';            for (let i = 0; i < text.length; i++) {                const ch = text[i];                if (finalLower.hasOwnProperty(ch)) out += finalLower[ch];                else if (finalUpper.hasOwnProperty(ch)) out += finalUpper[ch];                else if (finalDigit.hasOwnProperty(ch)) out += finalDigit[ch];                else out += ch;            }            return out;        }        // Escape HTML safe output        function escapeHtml(text) {            const div = document.createElement('div');            div.textContent = text;            return div.innerHTML;        }        // Copy helpers        function copyToClipboardFromElement(elementId, btn) {            const element = document.getElementById(elementId);            const text = element.textContent || element.innerText;            if (navigator.clipboard && window.isSecureContext) {                navigator.clipboard.writeText(text).then(() => showCopyFeedback(btn, true)).catch(() => fallbackCopyTextToClipboard(text, btn));            } else fallbackCopyTextToClipboard(text, btn);        }        function fallbackCopyTextToClipboard(text, btn) {            const textArea = document.createElement('textarea');            textArea.value = text;            textArea.style.top = '0';            textArea.style.left = '0';            textArea.style.position = 'fixed';            document.body.appendChild(textArea);            textArea.focus();            textArea.select();            try {                const successful = document.execCommand('copy');                showCopyFeedback(btn, !!successful);            } catch (err) { console.error('Fallback copy gagal: ', err); showCopyFeedback(btn, false); }            document.body.removeChild(textArea);        }        function showCopyFeedback(btn, isSuccess) {            const originalText = btn.innerHTML;            const originalBg = btn.style.background;            if (isSuccess) {                btn.innerHTML = 'âœ… Tersalin!';                btn.style.background = 'linear-gradient(45deg, #00ff00, #00cc00)';                btn.style.color = '#000';            } else {                btn.innerHTML = 'âŒ Gagal!';                btn.style.background = 'linear-gradient(45deg, #ff0000, #cc0000)';                btn.style.color = '#fff';                alert('Gagal copy, coba select manual dan copy!');            }            setTimeout(() => { btn.innerHTML = originalText; btn.style.background = originalBg; }, 2000);        }        // Read repeat input safely: allow big numbers        function getRepeatValue() {            const el = document.getElementById('repeat');            let raw = el.value;            if (raw === null || raw === undefined || raw === '') return '1';            // Remove leading + and leading zeros, but preserve "0"            raw = String(raw).trim();            if (raw === '') return '1';            // If not integer or negative, force to absolute integer            try {                // Use BigInt-compatible numeric string                const asBig = BigInt(raw);                if (asBig < 0n) return String(-asBig);                return String(asBig);            } catch (err) {                // fallback: try parseInt                const parsed = parseInt(raw, 10);                if (isNaN(parsed)) return '1';                return String(Math.abs(parsed));            }        }        // Button actions        function acakPesan() {            const teks = document.getElementById('input').value || '';            const timesStr = getRepeatValue();            // If times = 0, it's a no-op (return original)            if (timesStr === '0') hasil = teks;            const hasil = applyRepeated(teks, encryptMapLower, encryptMapUpper, encryptMapDigit, timesStr);            const output = document.getElementById('output');            output.innerHTML = `<div class="output-label">Hasil pengacakan (repeat=${escapeHtml(timesStr)}):</div><div class="output-text" id="outputText">${escapeHtml(hasil)}</div><button class="copy-btn" onclick="copyToClipboardFromElement('outputText', this)">ðŸ“‹ Copy Hasil</button>`;            output.scrollIntoView({ behavior: 'smooth', block: 'start' });        }        function terjemahkanPesan() {            const teks = document.getElementById('input').value || '';            const timesStr = getRepeatValue();            if (timesStr === '0') hasil = teks;            const hasil = applyRepeated(teks, decryptMapLower, decryptMapUpper, decryptMapDigit, timesStr);            const output = document.getElementById('output');            output.innerHTML = `<div class="output-label">Hasil terjemahan (repeat=${escapeHtml(timesStr)}):</div><div class="output-text" id="outputText">${escapeHtml(hasil)}</div><button class="copy-btn" onclick="copyToClipboardFromElement('outputText', this)">ðŸ“‹ Copy Hasil</button>`;            output.scrollIntoView({ behavior: 'smooth', block: 'start' });        }        function clearAll() {            document.getElementById('input').value = '';            document.getElementById('output').innerHTML = '';            const textarea = document.getElementById('input');            textarea.style.height = '120px';            document.getElementById('repeat').value = '1';        }    </script></body></html>